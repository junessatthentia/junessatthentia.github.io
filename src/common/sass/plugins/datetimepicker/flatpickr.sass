$control-btn-width: 40px

.flatpickr-calendar
	display: none
	text-align: center
	position: absolute
	width: 300px
	border: 1px solid $border
	box-sizing: border-box
	-ms-touch-action: manipulation
	touch-action: manipulation
	background: #fff
	+rem(14)

	&.open
		display: block
		z-index: 99999

	&.hasTime
		// width: auto

		.flatpickr-time
			height: 100%

// Header
.flatpickr-months
	position: relative
	border-bottom: 1px solid $border
	height: 40px
	margin-bottom: 8px
	+px(4)

.flatpickr-month
	position: relative
	height: 100%

// Arrows Controls Month
.flatpickr-prev-month,
.flatpickr-next-month
	position: absolute
	top: 0
	height: 100%
	width: $control-btn-width
	display: flex
	align-items: center
	justify-content: center
	z-index: 1
	color: $main
	fill: $main
	-webkit-user-select: none
	-moz-user-select: none
	-ms-user-select: none
	user-select: none
	cursor: pointer
	background-position: center
	background-repeat: no-repeat
	
	svg
		display: none

	&.flatpickr-disabled
		display: none

.flatpickr-prev-month
	left: $control-btn-width
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11' viewBox='0 0 7 11' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.06066 1.13171L5 0.0710449L0 5.07104L5 10.071L6.06066 9.01038L2.12132 5.07104L6.06066 1.13171Z' fill='%23414141'/%3E%3C/svg%3E")

.flatpickr-next-month
	right: $control-btn-width
	// background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11' viewBox='0 0 7 11' fill='none'%3E%3Cmask id='path-1-inside-1_1602_139699' fill='white'%3E%3Cpath d='M1.99999 0.0710449L6.99999 5.07104L1.99999 10.071L0.939331 9.01038L4.87867 5.07104L0.939331 1.13171L1.99999 0.0710449Z'/%3E%3C/mask%3E%3Cpath d='M1.99999 0.0710449L6.99999 5.07104L1.99999 10.071L0.939331 9.01038L4.87867 5.07104L0.939331 1.13171L1.99999 0.0710449Z' fill='white'/%3E%3Cpath d='M6.99999 5.07104L8.06065 6.13171L9.12131 5.07104L8.06065 4.01038L6.99999 5.07104ZM1.99999 0.0710449L3.06065 -0.989615L1.99999 -2.05028L0.939331 -0.989615L1.99999 0.0710449ZM1.99999 10.071L0.939331 11.1317L1.99999 12.1924L3.06065 11.1317L1.99999 10.071ZM0.939331 1.13171L-0.121329 0.0710448L-1.18199 1.1317L-0.121329 2.19237L0.939331 1.13171ZM0.939331 9.01038L-0.121329 7.94972L-1.18199 9.01038L-0.121329 10.071L0.939331 9.01038ZM4.87867 5.07104L5.93933 6.13171L6.99999 5.07104L5.93933 4.01038L4.87867 5.07104ZM8.06065 4.01038L3.06065 -0.989615L0.939331 1.13171L5.93933 6.13171L8.06065 4.01038ZM3.06065 11.1317L8.06065 6.13171L5.93933 4.01038L0.939331 9.01038L3.06065 11.1317ZM0.939331 -0.989615L-0.121329 0.0710448L1.99999 2.19237L3.06065 1.13171L0.939331 -0.989615ZM-0.121329 10.071L0.939331 11.1317L3.06065 9.01038L1.99999 7.94972L-0.121329 10.071ZM3.81801 4.01038L-0.121329 7.94972L1.99999 10.071L5.93933 6.13171L3.81801 4.01038ZM-0.121329 2.19237L3.81801 6.13171L5.93933 4.01038L1.99999 0.0710449L-0.121329 2.19237Z' fill='%23414141' mask='url(%23path-1-inside-1_1602_139699)'/%3E%3C/svg%3E")
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='11' viewBox='0 0 7 11' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.06066 1.13171L5 0.0710449L0 5.07104L5 10.071L6.06066 9.01038L2.12132 5.07104L6.06066 1.13171Z' fill='%23414141'/%3E%3C/svg%3E")
	+tf(scale(-1, -1))


// Hover State: Arrows Month and Year, Year Input, Month Select
.flatpickr-prev-month,
.flatpickr-next-month,
.numInputWrapper .arrowUp,
.numInputWrapper .arrowDown,
.flatpickr-current-month input.cur-year,
.flatpickr-monthDropdown-months
	background-repeat: no-repeat
	background-position: center
	// Hover opacity for desktop only
	+min1200
		opacity: 0.6

		&:hover
			opacity: 1

// Arrow Styles for Date-Picker, not Time-Picker
.flatpickr-months
	.numInputWrapper

		input,
		span
			display: inline-block

		input
			width: 100%

		// Arrows	
		.arrowUp,
		.arrowDown
			position: absolute
			top: 0
			width: $control-btn-width
			height: 100%
			cursor: pointer

		.arrowUp
			right: 0
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13' height='11' viewBox='0 0 13 11' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.06066 1.13171L5 0.0710449L0 5.07104L5 10.071L6.06066 9.01038L2.12132 5.07104L6.06066 1.13171Z' fill='%23414141'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.0607 1.13171L11 0.0710449L6 5.07104L11 10.071L12.0607 9.01038L8.12132 5.07104L12.0607 1.13171Z' fill='%23414141'/%3E%3C/svg%3E")
			+tf(scale(-1, -1))

		.arrowDown
			left: 0
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13' height='11' viewBox='0 0 13 11' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.06066 1.13171L5 0.0710449L0 5.07104L5 10.071L6.06066 9.01038L2.12132 5.07104L6.06066 1.13171Z' fill='%23414141'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.0607 1.13171L11 0.0710449L6 5.07104L11 10.071L12.0607 9.01038L8.12132 5.07104L12.0607 1.13171Z' fill='%23414141'/%3E%3C/svg%3E")

.flatpickr-current-month
	display: flex
	justify-content: center
	align-items: center
	height: 100%
	width: 100%
	
	// Year Input Wrapper
	.numInputWrapper
		width: 60px

	// Year Input
	input.cur-year
		display: block
		margin: 0
		background: transparent
		color: inherit
		font-size: inherit
		font-family: inherit
		font-weight: inherit
		line-height: inherit
		height: auto
		border: none
		border-bottom: 1px solid $input-border-color
		border-radius: 0
		+an
		cursor: pointer
		+rem(16)
		text-align: center

		// Hide number input arrows
		&::-webkit-outer-spin-button,
		&::-webkit-inner-spin-button
			+an

		&:focus
			outline: 0

.flatpickr-monthDropdown-months-years-wrapper
	height: 100%

// Month Select
.flatpickr-monthDropdown-months
	display: block
	height: 100%
	margin-right: 10px // Offset to year input
	background: transparent
	border: none
	border-radius: 0
	box-sizing: border-box
	color: inherit
	cursor: pointer
	font-size: inherit
	color: inherit
	font-family: inherit
	font-weight: inherit
	line-height: inherit

	&:focus
		outline: none

// Days Grid
.flatpickr-innerContainer
	padding-right: 12px
	padding-left: 12px
	padding-bottom: 11px

.flatpickr-weekdays
	display: flex
	align-items: center
	height: 28px

	.flatpickr-weekdaycontainer
		display: flex
		flex: 1

.flatpickr-weekday
	display: block
	flex: 1

.dayContainer, .flatpickr-weeks
	padding: 1px 0 0 0

.dayContainer
	display: flex
	flex-wrap: wrap
	justify-content: space-around

.flatpickr-day
	background: none
	border: 1px solid transparent
	// border-radius: 150px
	box-sizing: border-box
	color: #393939
	cursor: pointer
	font-weight: 400
	width: 14.2857143%
	-webkit-flex-basis: 14.2857143%
	-ms-flex-preferred-size: 14.2857143%
	flex-basis: 14.2857143%
	max-width: 39px
	height: 39px
	line-height: 39px
	margin: 0
	display: inline-block
	position: relative
	-webkit-box-pack: center
	-webkit-justify-content: center
	-ms-flex-pack: center
	justify-content: center
	text-align: center

	&.inRange, &.prevMonthDay.inRange, &.nextMonthDay.inRange, &.today.inRange, &.prevMonthDay.today.inRange, &.nextMonthDay.today.inRange, &:hover, &.prevMonthDay:hover, &.nextMonthDay:hover, &:focus, &.prevMonthDay:focus, &.nextMonthDay:focus
		cursor: pointer
		outline: 0
		background: $primary
		border-color: $primary
		color: $white

	&.today
		border-color: $primary

	&.selected, &.startRange, &.endRange, &.selected.inRange, &.startRange.inRange, &.endRange.inRange, &.selected:focus, &.startRange:focus, &.endRange:focus, &.selected:hover, &.startRange:hover, &.endRange:hover, &.selected.prevMonthDay, &.startRange.prevMonthDay, &.endRange.prevMonthDay, &.selected.nextMonthDay, &.startRange.nextMonthDay, &.endRange.nextMonthDay
		background: $primary
		box-shadow: none
		color: #fff
		border-color: $primary

	&.selected.startRange, &.startRange.startRange, &.endRange.startRange
		border-radius: 50px 0 0 50px

	&.selected.endRange, &.startRange.endRange, &.endRange.endRange
		border-radius: 0 50px 50px 0

	&.selected.startRange + .endRange:not(:nth-child(7n+1)), &.startRange.startRange + .endRange:not(:nth-child(7n+1)), &.endRange.startRange + .endRange:not(:nth-child(7n+1))
		box-shadow: -10px 0 0 $primary

	&.selected.startRange.endRange, &.startRange.startRange.endRange
		border-radius: 50px

	&.inRange
		border-radius: 0
		box-shadow: -5px 0 0 #e6e6e6, 5px 0 0 #e6e6e6

	&.flatpickr-disabled
		color: rgba(57, 57, 57, 0.3)
		background: transparent
		border-color: transparent
		cursor: default

		&:hover
			color: rgba(57, 57, 57, 0.3)
			background: transparent
			border-color: transparent
			cursor: default

	&.prevMonthDay, &.nextMonthDay
		color: rgba(57, 57, 57, 0.3)
		background: transparent
		border-color: transparent
		cursor: default

	&.notAllowed
		color: rgba(57, 57, 57, 0.3)
		background: transparent
		border-color: transparent
		cursor: default

		&.prevMonthDay, &.nextMonthDay
			color: rgba(57, 57, 57, 0.3)
			background: transparent
			border-color: transparent
			cursor: default

	&.flatpickr-disabled
		cursor: not-allowed
		color: rgba(57, 57, 57, 0.1)

		&:hover
			cursor: not-allowed
			color: rgba(57, 57, 57, 0.1)

	&.week.selected
		border-radius: 0
		box-shadow: -5px 0 0 $primary, 5px 0 0 $primary

	&.hidden
		visibility: hidden

.rangeMode .flatpickr-day
	margin-top: 1px

.flatpickr-weekwrapper
	float: left

	.flatpickr-weeks
		padding: 0 12px
		box-shadow: 1px 0 0 #e6e6e6

	.flatpickr-weekday
		float: none
		width: 100%
		line-height: 28px

	span.flatpickr-day
		display: block
		width: 100%
		max-width: none
		color: rgba(57, 57, 57, 0.3)
		background: transparent
		cursor: default
		border: none

		&:hover
			display: block
			width: 100%
			max-width: none
			color: rgba(57, 57, 57, 0.3)
			background: transparent
			cursor: default
			border: none

.flatpickr-time
	text-align: center
	outline: 0
	display: block
	height: 0
	line-height: 40px
	max-height: 40px
	box-sizing: border-box
	overflow: hidden
	display: flex

	&:after
		content: ""
		display: table
		clear: both

	.numInputWrapper,
	.flatpickr-am-pm
		display: block
		width: 56px
		height: 40px
		cursor: pointer

	.numInputWrapper
		flex: 1
		float: left

		span
			&.arrowUp:after
				border-bottom-color: #393939

			&.arrowDown:after
				border-top-color: #393939

	&.hasSeconds .numInputWrapper
		width: 26%

	&.time24hr .numInputWrapper
		width: 49%

	input
		display: block
		width: 100%
		background: transparent
		box-shadow: none
		border: 0
		border-radius: 0
		margin: 0
		height: inherit
		line-height: inherit
		color: inherit
		// font-size: inherit
		position: relative
		box-sizing: border-box
		-webkit-appearance: textfield
		-moz-appearance: textfield
		appearance: textfield
		text-align: center

		&:focus
			outline: 0
			border: 0
			background: transparent
		
		// &::selection
			// background-color: transparent

	.flatpickr-time-separator
		height: inherit
		float: left
		line-height: inherit
		color: #393939
		font-weight: bold
		width: 2%
		-webkit-user-select: none
		-moz-user-select: none
		-ms-user-select: none
		user-select: none
		-webkit-align-self: center
		-ms-flex-item-align: center
		align-self: center

	// .flatpickr-am-pm
	// 	height: inherit
	// 	float: left
	// 	line-height: inherit
	// 	font-weight: bold
	// 	-webkit-user-select: none
	// 	-moz-user-select: none
	// 	-ms-user-select: none
	// 	user-select: none
	// 	-webkit-align-self: center
	// 	-ms-flex-item-align: center
	// 	align-self: center
	// 	outline: 0
	// 	width: 18%
	// 	cursor: pointer
	// 	text-align: center
	// 	font-weight: 400

.flatpickr-input[readonly]:not([disabled])
	cursor: pointer
